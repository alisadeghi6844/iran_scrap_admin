# Requirements Document

## Introduction

این ویژگی امکان ویرایش نظرسنجی‌ها را با استفاده از ID نظرسنجی در URL فراهم می‌کند. کاربران می‌توانند با دسترسی به URL مخصوص، نظرسنجی مورد نظر را ویرایش کنند و سیستم به صورت خودکار اطلاعات نظرسنجی را از API دریافت می‌کند.

## Requirements

### Requirement 1

**User Story:** به عنوان یک ادمین، می‌خواهم بتوانم با کلیک بر روی دکمه ویرایش نظرسنجی، به صفحه ویرایش هدایت شوم تا بتوانم اطلاعات نظرسنجی را تغییر دهم.

#### Acceptance Criteria

1. WHEN کاربر روی دکمه ویرایش نظرسنجی کلیک می‌کند THEN سیستم SHALL کاربر را به URL `/survey/edit/:id` هدایت کند
2. WHEN صفحه ویرایش نظرسنجی لود می‌شود THEN سیستم SHALL ID نظرسنجی را از URL parameter استخراج کند
3. WHEN ID نظرسنجی از URL استخراج شد THEN سیستم SHALL درخواست `GetSurveyByIdAction` را ارسال کند

### Requirement 2

**User Story:** به عنوان یک ادمین، می‌خواهم وقتی وارد صفحه ویرایش نظرسنجی می‌شوم، اطلاعات فعلی نظرسنجی به صورت خودکار در فرم نمایش داده شود تا بتوانم آن‌ها را ویرایش کنم.

#### Acceptance Criteria

1. WHEN API `GetSurveyByIdAction` با موفقیت اجرا شود THEN سیستم SHALL اطلاعات نظرسنجی را در فرم ویرایش نمایش دهد
2. WHEN اطلاعات نظرسنجی دریافت شد THEN سیستم SHALL تمام فیلدهای فرم را با مقادیر فعلی پر کند
3. IF درخواست API با خطا مواجه شود THEN سیستم SHALL پیام خطای مناسب را نمایش دهد

### Requirement 3

**User Story:** به عنوان یک ادمین، می‌خواهم بتوانم تغییرات اعمال شده در نظرسنجی را ذخیره کنم تا اطلاعات جدید در سیستم به‌روزرسانی شود.

#### Acceptance Criteria

1. WHEN کاربر فرم ویرایش را پر کرد و دکمه ذخیره را کلیک کرد THEN سیستم SHALL درخواست `UpdateSurveyAction` را با ID نظرسنجی ارسال کند
2. WHEN عملیات به‌روزرسانی با موفقیت انجام شود THEN سیستم SHALL پیام موفقیت را نمایش دهد
3. WHEN عملیات به‌روزرسانی با موفقیت انجام شود THEN سیستم SHALL کاربر را به لیست نظرسنجی‌ها هدایت کند

### Requirement 4

**User Story:** به عنوان یک کاربر، می‌خواهم اگر ID نظرسنجی در URL معتبر نباشد، پیام خطای مناسب دریافت کنم تا متوجه شوم مشکل از کجاست.

#### Acceptance Criteria

1. WHEN ID نظرسنجی در URL وجود نداشته باشد THEN سیستم SHALL پیام خطا نمایش دهد و کاربر را به صفحه لیست نظرسنجی‌ها هدایت کند
2. WHEN ID نظرسنجی نامعتبر باشد THEN سیستم SHALL پیام "نظرسنجی یافت نشد" را نمایش دهد
3. IF کاربر دسترسی لازم برای ویرایش نظرسنجی را نداشته باشد THEN سیستم SHALL پیام عدم دسترسی را نمایش دهد

### Requirement 5

**User Story:** به عنوان یک کاربر، می‌خواهم در حین بارگذاری اطلاعات نظرسنجی، نشانگر بارگذاری مناسب را ببینم تا بدانم سیستم در حال پردازش است.

#### Acceptance Criteria

1. WHEN درخواست `GetSurveyByIdAction` در حال اجرا است THEN سیستم SHALL نشانگر بارگذاری را نمایش دهد
2. WHEN درخواست `UpdateSurveyAction` در حال اجرا است THEN سیستم SHALL دکمه ذخیره را غیرفعال کند و نشانگر بارگذاری نمایش دهد
3. WHEN عملیات کامل شود THEN سیستم SHALL نشانگر بارگذاری را مخفی کند